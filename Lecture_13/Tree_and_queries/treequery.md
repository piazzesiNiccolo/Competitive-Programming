# Solution

We fllatten the tree into an array with a preorder visit and then use Mo's Algorithm.

## Time complexity
O((n+q)sqrt(n))

# Space complexity

O(n)